{"version":3,"sources":["apiReddit.js","app.js"],"names":["search","searchTerm","searchLimit","sortBy","fetch","then","res","json","data","children","map","catch","err","console","log","Object","defineProperty","exports","value","default"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAAe;AACbA,UAAQ,UAASC,UAAT,EAAqBC,WAArB,EAAkCC,MAAlC,EAA0C;AAChD,WAAOC,MACJ,2EAA0EH,UAAW,SAAQE,MAAO,UAASD,WAAY,GADrH,EAGJG,IAHI,CAGCC,OAAOA,IAAIC,IAAJ,EAHR,EAIJF,IAJI,CAICG,QAAQA,KAAKA,IAAL,CAAUC,QAAV,CAAmBC,GAAnB,CAAuBF,QAAQA,KAAKA,IAApC,CAJT,EAKJG,KALI,CAKEC,OAAOC,QAAQC,GAAR,CAAYF,GAAZ,CALT,CAAP;AAMD;AARY;;;AAWd,YAAD;;AAEAG,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,SAAO;AADoC,CAA7C;AAGAD,QAAQE,OAAR,GAAkB;AAChBnB,UAAQ,SAASA,MAAT,CAAgBC,UAAhB,EAA4BC,WAA5B,EAAyCC,MAAzC,EAAiD;AACvD,WAAOC,MACL,yCACEH,UADF,GAEE,QAFF,GAGEE,MAHF,GAIE,SAJF,GAKED,WALF,GAME,GAPG,EASJG,IATI,CASC,UAASC,GAAT,EAAc;AAClB,aAAOA,IAAIC,IAAJ,EAAP;AACD,KAXI,EAYJF,IAZI,CAYC,UAASG,IAAT,EAAe;AACnB,aAAOA,KAAKA,IAAL,CAAUC,QAAV,CAAmBC,GAAnB,CAAuB,UAASF,IAAT,EAAe;AAC3C,eAAOA,KAAKA,IAAZ;AACD,OAFM,CAAP;AAGD,KAhBI,EAiBJG,KAjBI,CAiBE,UAASC,GAAT,EAAc;AACnB,aAAOC,QAAQC,GAAR,CAAYF,GAAZ,CAAP;AACD,KAnBI,CAAP;AAoBD;AAtBe,CAAlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reddit-me.map","sourcesContent":["export default {\n  search: function(searchTerm, searchLimit, sortBy) {\n    return fetch(\n      `https://cors-anywhere.herokuapp.com/http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${searchLimit} `\n    )\n      .then(res => res.json())\n      .then(data => data.data.children.map(data => data.data))\n      .catch(err => console.log(err));\n  }\n};\n\n(\"use strict\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  search: function search(searchTerm, searchLimit, sortBy) {\n    return fetch(\n      \"http://www.reddit.com/search.json?q=\" +\n        searchTerm +\n        \"&sort=\" +\n        sortBy +\n        \"&limit=\" +\n        searchLimit +\n        \" \"\n    )\n      .then(function(res) {\n        return res.json();\n      })\n      .then(function(data) {\n        return data.data.children.map(function(data) {\n          return data.data;\n        });\n      })\n      .catch(function(err) {\n        return console.log(err);\n      });\n  }\n};\n","\"use strict\";\n\nvar _apiReddit = require(\"./apiReddit\");\n\nvar _apiReddit2 = _interopRequireDefault(_apiReddit);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar searchForm = document.getElementById(\"search-form\");\nvar searchInput = document.getElementById(\"search-input\");\n\n// Form event listener\nsearchForm.addEventListener(\"submit\", function(e) {\n  //  Get search term\n  var searchTerm = searchInput.value;\n  //Get sort\n  var sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n\n  // Get limit\n  var searchLimit = document.getElementById(\"limit\").value;\n\n  if (searchTerm === \"\") {\n    showMessage(\"Please add a search term\", \"alert-danger\");\n  }\n\n  searchInput.value = \"\";\n\n  //   search reddit\n  _apiReddit2.default\n    .search(searchTerm, searchLimit, sortBy)\n    .then(function(results) {\n      var output = '<div class=\"card-columns\">';\n      // loop through post\n      results.forEach(function(post) {\n        //   console.log(results);\n        //   this gets the image if available if not then shows the default image\n        var image = post.preview\n          ? post.preview.images[0].source.url // : \"https://media.giphy.com/media/7Cl6Q2A13HhkI/giphy.gif\";\n          : \"https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg\";\n        output +=\n          '\\n    \\n        <div class=\"card\" >\\n        <img class=\"card-img-top\" src=' +\n          image +\n          ' alt=\"Card image cap\">\\n        <div class=\"card-body\">\\n            <h5 class=\"card-title\">' +\n          post.title +\n          '</h5>\\n            <p class=\"card-text\">' +\n          truncateText(post.selftext, 100) +\n          \" </p>\\n            <a href=\" +\n          post.url +\n          ' target=\"_blank\" class=\"btn btn-primary red\">Read More</a>\\n        <hr>\\n        <span class=\"badge badge-dark\">Subreddit: ' +\n          post.subreddit +\n          '</span>\\n        <span class=\"badge light\">Score: ' +\n          post.score +\n          \"</span>\\n        </div>\\n        </div>\\n        \";\n      });\n      output += \"</div>\";\n      document.getElementById(\"results\").innerHTML = output;\n    });\n\n  //prevent default\n  e.preventDefault();\n});\n\n// Function shows message\nfunction showMessage(message, className) {\n  //create div\n  var div = document.createElement(\"div\");\n  //   add classes\n  div.className = \"alert \" + className;\n  //   add text\n  div.appendChild(document.createTextNode(message));\n  //Get the parent container\n  var searchContainer = document.getElementById(\"search-container\");\n  // Get search\n  var search = document.getElementById(\"search\");\n  //Insert message\n  searchContainer.insertBefore(div, search);\n\n  // Time out alert\n  setTimeout(function() {\n    return document.querySelector(\".alert\").remove();\n  }, 3000);\n}\n\n// Truncate text\n\nfunction truncateText(text, limit) {\n  var shortened = text.indexOf(\"\", limit);\n  if (shortened === -1) return text;\n  return text.substring(0, shortened);\n}\n\n// import reddit from \"./apiReddit\";\n\n// const searchForm = document.getElementById(\"search-form\");\n// const searchInput = document.getElementById(\"search-input\");\n\n// // Form event listener\n// searchForm.addEventListener(\"submit\", e => {\n//   //  Get search term\n//   const searchTerm = searchInput.value;\n//   //Get sort\n//   const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n\n//   // Get limit\n//   const searchLimit = document.getElementById(\"limit\").value;\n\n//   if (searchTerm === \"\") {\n//     showMessage(\"Please add a search term\", \"alert-danger\");\n//   }\n\n//   searchInput.value = \"\";\n\n//   //   search reddit\n//   reddit.search(searchTerm, searchLimit, sortBy).then(results => {\n//     let output = '<div class=\"card-columns\">';\n//     // loop through post\n//     results.forEach(post => {\n//       //   console.log(results);\n//       //   this gets the image if available if not then shows the default image\n//       let image = post.preview\n//         ? post.preview.images[0].source.url\n//         : // : \"https://media.giphy.com/media/7Cl6Q2A13HhkI/giphy.gif\";\n//           \"https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg\";\n//       output += `\n\n//         <div class=\"card\" >\n//         <img class=\"card-img-top\" src=${image} alt=\"Card image cap\">\n//         <div class=\"card-body\">\n//             <h5 class=\"card-title\">${post.title}</h5>\n//             <p class=\"card-text\">${truncateText(post.selftext, 100)} </p>\n//             <a href=${\n//               post.url\n//             } target=\"_blank\" class=\"btn btn-primary red\">Read More</a>\n//         <hr>\n//         <span class=\"badge badge-dark\">Subreddit: ${post.subreddit}</span>\n//         <span class=\"badge light\">Score: ${post.score}</span>\n//         </div>\n//         </div>\n//         `;\n//     });\n//     output += \"</div>\";\n//     document.getElementById(\"results\").innerHTML = output;\n//   });\n\n//   //prevent default\n//   e.preventDefault();\n// });\n\n// // Function shows message\n// function showMessage(message, className) {\n//   //create div\n//   const div = document.createElement(\"div\");\n//   //   add classes\n//   div.className = `alert ${className}`;\n//   //   add text\n//   div.appendChild(document.createTextNode(message));\n//   //Get the parent container\n//   const searchContainer = document.getElementById(\"search-container\");\n//   // Get search\n//   const search = document.getElementById(\"search\");\n//   //Insert message\n//   searchContainer.insertBefore(div, search);\n\n//   // Time out alert\n//   setTimeout(() => document.querySelector(\".alert\").remove(), 3000);\n// }\n\n// // Truncate text\n\n// function truncateText(text, limit) {\n//   const shortened = text.indexOf(\"\", limit);\n//   if (shortened === -1) return text;\n//   return text.substring(0, shortened);\n// }\n"]}