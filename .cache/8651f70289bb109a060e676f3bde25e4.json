{"dependencies":[{"name":"./apiReddit","loc":{"line":3,"column":25}}],"generated":{"js":"\"use strict\";\n\nvar _apiReddit = require(\"./apiReddit\");\n\nvar _apiReddit2 = _interopRequireDefault(_apiReddit);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar searchForm = document.getElementById(\"search-form\");\nvar searchInput = document.getElementById(\"search-input\");\n\n// Form event listener\nsearchForm.addEventListener(\"submit\", function(e) {\n  //  Get search term\n  var searchTerm = searchInput.value;\n  //Get sort\n  var sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n\n  // Get limit\n  var searchLimit = document.getElementById(\"limit\").value;\n\n  if (searchTerm === \"\") {\n    showMessage(\"Please add a search term\", \"alert-danger\");\n  }\n\n  searchInput.value = \"\";\n\n  //   search reddit\n  _apiReddit2.default\n    .search(searchTerm, searchLimit, sortBy)\n    .then(function(results) {\n      var output = '<div class=\"card-columns\">';\n      // loop through post\n      results.forEach(function(post) {\n        //   console.log(results);\n        //   this gets the image if available if not then shows the default image\n        var image = post.preview\n          ? post.preview.images[0].source.url // : \"https://media.giphy.com/media/7Cl6Q2A13HhkI/giphy.gif\";\n          : \"https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg\";\n        output +=\n          '\\n    \\n        <div class=\"card\" >\\n        <img class=\"card-img-top\" src=' +\n          image +\n          ' alt=\"Card image cap\">\\n        <div class=\"card-body\">\\n            <h5 class=\"card-title\">' +\n          post.title +\n          '</h5>\\n            <p class=\"card-text\">' +\n          truncateText(post.selftext, 100) +\n          \" </p>\\n            <a href=\" +\n          post.url +\n          ' target=\"_blank\" class=\"btn btn-primary red\">Read More</a>\\n        <hr>\\n        <span class=\"badge badge-dark\">Subreddit: ' +\n          post.subreddit +\n          '</span>\\n        <span class=\"badge light\">Score: ' +\n          post.score +\n          \"</span>\\n        </div>\\n        </div>\\n        \";\n      });\n      output += \"</div>\";\n      document.getElementById(\"results\").innerHTML = output;\n    });\n\n  //prevent default\n  e.preventDefault();\n});\n\n// Function shows message\nfunction showMessage(message, className) {\n  //create div\n  var div = document.createElement(\"div\");\n  //   add classes\n  div.className = \"alert \" + className;\n  //   add text\n  div.appendChild(document.createTextNode(message));\n  //Get the parent container\n  var searchContainer = document.getElementById(\"search-container\");\n  // Get search\n  var search = document.getElementById(\"search\");\n  //Insert message\n  searchContainer.insertBefore(div, search);\n\n  // Time out alert\n  setTimeout(function() {\n    return document.querySelector(\".alert\").remove();\n  }, 3000);\n}\n\n// Truncate text\n\nfunction truncateText(text, limit) {\n  var shortened = text.indexOf(\"\", limit);\n  if (shortened === -1) return text;\n  return text.substring(0, shortened);\n}\n\n// import reddit from \"./apiReddit\";\n\n// const searchForm = document.getElementById(\"search-form\");\n// const searchInput = document.getElementById(\"search-input\");\n\n// // Form event listener\n// searchForm.addEventListener(\"submit\", e => {\n//   //  Get search term\n//   const searchTerm = searchInput.value;\n//   //Get sort\n//   const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n\n//   // Get limit\n//   const searchLimit = document.getElementById(\"limit\").value;\n\n//   if (searchTerm === \"\") {\n//     showMessage(\"Please add a search term\", \"alert-danger\");\n//   }\n\n//   searchInput.value = \"\";\n\n//   //   search reddit\n//   reddit.search(searchTerm, searchLimit, sortBy).then(results => {\n//     let output = '<div class=\"card-columns\">';\n//     // loop through post\n//     results.forEach(post => {\n//       //   console.log(results);\n//       //   this gets the image if available if not then shows the default image\n//       let image = post.preview\n//         ? post.preview.images[0].source.url\n//         : // : \"https://media.giphy.com/media/7Cl6Q2A13HhkI/giphy.gif\";\n//           \"https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg\";\n//       output += `\n\n//         <div class=\"card\" >\n//         <img class=\"card-img-top\" src=${image} alt=\"Card image cap\">\n//         <div class=\"card-body\">\n//             <h5 class=\"card-title\">${post.title}</h5>\n//             <p class=\"card-text\">${truncateText(post.selftext, 100)} </p>\n//             <a href=${\n//               post.url\n//             } target=\"_blank\" class=\"btn btn-primary red\">Read More</a>\n//         <hr>\n//         <span class=\"badge badge-dark\">Subreddit: ${post.subreddit}</span>\n//         <span class=\"badge light\">Score: ${post.score}</span>\n//         </div>\n//         </div>\n//         `;\n//     });\n//     output += \"</div>\";\n//     document.getElementById(\"results\").innerHTML = output;\n//   });\n\n//   //prevent default\n//   e.preventDefault();\n// });\n\n// // Function shows message\n// function showMessage(message, className) {\n//   //create div\n//   const div = document.createElement(\"div\");\n//   //   add classes\n//   div.className = `alert ${className}`;\n//   //   add text\n//   div.appendChild(document.createTextNode(message));\n//   //Get the parent container\n//   const searchContainer = document.getElementById(\"search-container\");\n//   // Get search\n//   const search = document.getElementById(\"search\");\n//   //Insert message\n//   searchContainer.insertBefore(div, search);\n\n//   // Time out alert\n//   setTimeout(() => document.querySelector(\".alert\").remove(), 3000);\n// }\n\n// // Truncate text\n\n// function truncateText(text, limit) {\n//   const shortened = text.indexOf(\"\", limit);\n//   if (shortened === -1) return text;\n//   return text.substring(0, shortened);\n// }\n","map":{"mappings":[{"source":"app.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"app.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"app.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"app.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"app.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"app.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"app.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"app.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"app.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"app.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"app.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"app.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"app.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"app.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"app.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"app.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"app.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"app.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"app.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"app.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"app.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"app.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"app.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"app.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"app.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"app.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"app.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"app.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"app.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"app.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"app.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"app.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"app.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"app.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"app.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"app.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"app.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"app.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"app.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"app.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"app.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"app.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"app.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"app.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"app.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"app.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"app.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"app.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"app.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"app.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"app.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"app.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"app.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"app.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"app.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"app.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"app.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"app.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"app.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"app.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"app.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"app.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"app.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"app.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"app.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"app.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"app.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"app.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"app.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"app.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"app.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"app.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"app.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"app.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"app.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"app.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"app.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"app.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"app.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"app.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"app.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"app.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"app.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"app.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"app.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"app.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"app.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"app.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"app.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"app.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"app.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"app.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"app.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"app.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"app.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"app.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"app.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"app.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"app.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"app.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"app.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"app.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"app.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"app.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"app.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"app.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"app.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"app.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}},{"source":"app.js","original":{"line":109,"column":0},"generated":{"line":109,"column":0}},{"source":"app.js","original":{"line":110,"column":0},"generated":{"line":110,"column":0}},{"source":"app.js","original":{"line":111,"column":0},"generated":{"line":111,"column":0}},{"source":"app.js","original":{"line":112,"column":0},"generated":{"line":112,"column":0}},{"source":"app.js","original":{"line":113,"column":0},"generated":{"line":113,"column":0}},{"source":"app.js","original":{"line":114,"column":0},"generated":{"line":114,"column":0}},{"source":"app.js","original":{"line":115,"column":0},"generated":{"line":115,"column":0}},{"source":"app.js","original":{"line":116,"column":0},"generated":{"line":116,"column":0}},{"source":"app.js","original":{"line":117,"column":0},"generated":{"line":117,"column":0}},{"source":"app.js","original":{"line":118,"column":0},"generated":{"line":118,"column":0}},{"source":"app.js","original":{"line":119,"column":0},"generated":{"line":119,"column":0}},{"source":"app.js","original":{"line":120,"column":0},"generated":{"line":120,"column":0}},{"source":"app.js","original":{"line":121,"column":0},"generated":{"line":121,"column":0}},{"source":"app.js","original":{"line":122,"column":0},"generated":{"line":122,"column":0}},{"source":"app.js","original":{"line":123,"column":0},"generated":{"line":123,"column":0}},{"source":"app.js","original":{"line":124,"column":0},"generated":{"line":124,"column":0}},{"source":"app.js","original":{"line":125,"column":0},"generated":{"line":125,"column":0}},{"source":"app.js","original":{"line":126,"column":0},"generated":{"line":126,"column":0}},{"source":"app.js","original":{"line":127,"column":0},"generated":{"line":127,"column":0}},{"source":"app.js","original":{"line":128,"column":0},"generated":{"line":128,"column":0}},{"source":"app.js","original":{"line":129,"column":0},"generated":{"line":129,"column":0}},{"source":"app.js","original":{"line":130,"column":0},"generated":{"line":130,"column":0}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":131,"column":0}},{"source":"app.js","original":{"line":132,"column":0},"generated":{"line":132,"column":0}},{"source":"app.js","original":{"line":133,"column":0},"generated":{"line":133,"column":0}},{"source":"app.js","original":{"line":134,"column":0},"generated":{"line":134,"column":0}},{"source":"app.js","original":{"line":135,"column":0},"generated":{"line":135,"column":0}},{"source":"app.js","original":{"line":136,"column":0},"generated":{"line":136,"column":0}},{"source":"app.js","original":{"line":137,"column":0},"generated":{"line":137,"column":0}},{"source":"app.js","original":{"line":138,"column":0},"generated":{"line":138,"column":0}},{"source":"app.js","original":{"line":139,"column":0},"generated":{"line":139,"column":0}},{"source":"app.js","original":{"line":140,"column":0},"generated":{"line":140,"column":0}},{"source":"app.js","original":{"line":141,"column":0},"generated":{"line":141,"column":0}},{"source":"app.js","original":{"line":142,"column":0},"generated":{"line":142,"column":0}},{"source":"app.js","original":{"line":143,"column":0},"generated":{"line":143,"column":0}},{"source":"app.js","original":{"line":144,"column":0},"generated":{"line":144,"column":0}},{"source":"app.js","original":{"line":145,"column":0},"generated":{"line":145,"column":0}},{"source":"app.js","original":{"line":146,"column":0},"generated":{"line":146,"column":0}},{"source":"app.js","original":{"line":147,"column":0},"generated":{"line":147,"column":0}},{"source":"app.js","original":{"line":148,"column":0},"generated":{"line":148,"column":0}},{"source":"app.js","original":{"line":149,"column":0},"generated":{"line":149,"column":0}},{"source":"app.js","original":{"line":150,"column":0},"generated":{"line":150,"column":0}},{"source":"app.js","original":{"line":151,"column":0},"generated":{"line":151,"column":0}},{"source":"app.js","original":{"line":152,"column":0},"generated":{"line":152,"column":0}},{"source":"app.js","original":{"line":153,"column":0},"generated":{"line":153,"column":0}},{"source":"app.js","original":{"line":154,"column":0},"generated":{"line":154,"column":0}},{"source":"app.js","original":{"line":155,"column":0},"generated":{"line":155,"column":0}},{"source":"app.js","original":{"line":156,"column":0},"generated":{"line":156,"column":0}},{"source":"app.js","original":{"line":157,"column":0},"generated":{"line":157,"column":0}},{"source":"app.js","original":{"line":158,"column":0},"generated":{"line":158,"column":0}},{"source":"app.js","original":{"line":159,"column":0},"generated":{"line":159,"column":0}},{"source":"app.js","original":{"line":160,"column":0},"generated":{"line":160,"column":0}},{"source":"app.js","original":{"line":161,"column":0},"generated":{"line":161,"column":0}},{"source":"app.js","original":{"line":162,"column":0},"generated":{"line":162,"column":0}},{"source":"app.js","original":{"line":163,"column":0},"generated":{"line":163,"column":0}},{"source":"app.js","original":{"line":164,"column":0},"generated":{"line":164,"column":0}},{"source":"app.js","original":{"line":165,"column":0},"generated":{"line":165,"column":0}},{"source":"app.js","original":{"line":166,"column":0},"generated":{"line":166,"column":0}},{"source":"app.js","original":{"line":167,"column":0},"generated":{"line":167,"column":0}},{"source":"app.js","original":{"line":168,"column":0},"generated":{"line":168,"column":0}},{"source":"app.js","original":{"line":169,"column":0},"generated":{"line":169,"column":0}},{"source":"app.js","original":{"line":170,"column":0},"generated":{"line":170,"column":0}},{"source":"app.js","original":{"line":171,"column":0},"generated":{"line":171,"column":0}},{"source":"app.js","original":{"line":172,"column":0},"generated":{"line":172,"column":0}},{"source":"app.js","original":{"line":173,"column":0},"generated":{"line":173,"column":0}},{"source":"app.js","original":{"line":174,"column":0},"generated":{"line":174,"column":0}},{"source":"app.js","original":{"line":175,"column":0},"generated":{"line":175,"column":0}},{"source":"app.js","original":{"line":176,"column":0},"generated":{"line":176,"column":0}},{"source":"app.js","original":{"line":177,"column":0},"generated":{"line":177,"column":0}}],"sources":{"app.js":"\"use strict\";\n\nvar _apiReddit = require(\"./apiReddit\");\n\nvar _apiReddit2 = _interopRequireDefault(_apiReddit);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar searchForm = document.getElementById(\"search-form\");\nvar searchInput = document.getElementById(\"search-input\");\n\n// Form event listener\nsearchForm.addEventListener(\"submit\", function(e) {\n  //  Get search term\n  var searchTerm = searchInput.value;\n  //Get sort\n  var sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n\n  // Get limit\n  var searchLimit = document.getElementById(\"limit\").value;\n\n  if (searchTerm === \"\") {\n    showMessage(\"Please add a search term\", \"alert-danger\");\n  }\n\n  searchInput.value = \"\";\n\n  //   search reddit\n  _apiReddit2.default\n    .search(searchTerm, searchLimit, sortBy)\n    .then(function(results) {\n      var output = '<div class=\"card-columns\">';\n      // loop through post\n      results.forEach(function(post) {\n        //   console.log(results);\n        //   this gets the image if available if not then shows the default image\n        var image = post.preview\n          ? post.preview.images[0].source.url // : \"https://media.giphy.com/media/7Cl6Q2A13HhkI/giphy.gif\";\n          : \"https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg\";\n        output +=\n          '\\n    \\n        <div class=\"card\" >\\n        <img class=\"card-img-top\" src=' +\n          image +\n          ' alt=\"Card image cap\">\\n        <div class=\"card-body\">\\n            <h5 class=\"card-title\">' +\n          post.title +\n          '</h5>\\n            <p class=\"card-text\">' +\n          truncateText(post.selftext, 100) +\n          \" </p>\\n            <a href=\" +\n          post.url +\n          ' target=\"_blank\" class=\"btn btn-primary red\">Read More</a>\\n        <hr>\\n        <span class=\"badge badge-dark\">Subreddit: ' +\n          post.subreddit +\n          '</span>\\n        <span class=\"badge light\">Score: ' +\n          post.score +\n          \"</span>\\n        </div>\\n        </div>\\n        \";\n      });\n      output += \"</div>\";\n      document.getElementById(\"results\").innerHTML = output;\n    });\n\n  //prevent default\n  e.preventDefault();\n});\n\n// Function shows message\nfunction showMessage(message, className) {\n  //create div\n  var div = document.createElement(\"div\");\n  //   add classes\n  div.className = \"alert \" + className;\n  //   add text\n  div.appendChild(document.createTextNode(message));\n  //Get the parent container\n  var searchContainer = document.getElementById(\"search-container\");\n  // Get search\n  var search = document.getElementById(\"search\");\n  //Insert message\n  searchContainer.insertBefore(div, search);\n\n  // Time out alert\n  setTimeout(function() {\n    return document.querySelector(\".alert\").remove();\n  }, 3000);\n}\n\n// Truncate text\n\nfunction truncateText(text, limit) {\n  var shortened = text.indexOf(\"\", limit);\n  if (shortened === -1) return text;\n  return text.substring(0, shortened);\n}\n\n// import reddit from \"./apiReddit\";\n\n// const searchForm = document.getElementById(\"search-form\");\n// const searchInput = document.getElementById(\"search-input\");\n\n// // Form event listener\n// searchForm.addEventListener(\"submit\", e => {\n//   //  Get search term\n//   const searchTerm = searchInput.value;\n//   //Get sort\n//   const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\n\n//   // Get limit\n//   const searchLimit = document.getElementById(\"limit\").value;\n\n//   if (searchTerm === \"\") {\n//     showMessage(\"Please add a search term\", \"alert-danger\");\n//   }\n\n//   searchInput.value = \"\";\n\n//   //   search reddit\n//   reddit.search(searchTerm, searchLimit, sortBy).then(results => {\n//     let output = '<div class=\"card-columns\">';\n//     // loop through post\n//     results.forEach(post => {\n//       //   console.log(results);\n//       //   this gets the image if available if not then shows the default image\n//       let image = post.preview\n//         ? post.preview.images[0].source.url\n//         : // : \"https://media.giphy.com/media/7Cl6Q2A13HhkI/giphy.gif\";\n//           \"https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg\";\n//       output += `\n\n//         <div class=\"card\" >\n//         <img class=\"card-img-top\" src=${image} alt=\"Card image cap\">\n//         <div class=\"card-body\">\n//             <h5 class=\"card-title\">${post.title}</h5>\n//             <p class=\"card-text\">${truncateText(post.selftext, 100)} </p>\n//             <a href=${\n//               post.url\n//             } target=\"_blank\" class=\"btn btn-primary red\">Read More</a>\n//         <hr>\n//         <span class=\"badge badge-dark\">Subreddit: ${post.subreddit}</span>\n//         <span class=\"badge light\">Score: ${post.score}</span>\n//         </div>\n//         </div>\n//         `;\n//     });\n//     output += \"</div>\";\n//     document.getElementById(\"results\").innerHTML = output;\n//   });\n\n//   //prevent default\n//   e.preventDefault();\n// });\n\n// // Function shows message\n// function showMessage(message, className) {\n//   //create div\n//   const div = document.createElement(\"div\");\n//   //   add classes\n//   div.className = `alert ${className}`;\n//   //   add text\n//   div.appendChild(document.createTextNode(message));\n//   //Get the parent container\n//   const searchContainer = document.getElementById(\"search-container\");\n//   // Get search\n//   const search = document.getElementById(\"search\");\n//   //Insert message\n//   searchContainer.insertBefore(div, search);\n\n//   // Time out alert\n//   setTimeout(() => document.querySelector(\".alert\").remove(), 3000);\n// }\n\n// // Truncate text\n\n// function truncateText(text, limit) {\n//   const shortened = text.indexOf(\"\", limit);\n//   if (shortened === -1) return text;\n//   return text.substring(0, shortened);\n// }\n"},"lineCount":177}},"hash":"3f8305a4691e80c5c2ef84208fb15e13","cacheData":{"env":{}}}